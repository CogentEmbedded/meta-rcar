From ac65a384eed35c84af137c77bf009c916a57e749 Mon Sep 17 00:00:00 2001
From: Andrey Dolnikov <andrey.dolnikov@cogentembedded.com>
Date: Fri, 21 Aug 2020 17:13:21 +0300
Subject: [PATCH] r8a779[70|80]: Adjust IMR memory region

---
 arch/arm64/boot/dts/renesas/r8a77970.dtsi |  8 ++++----
 arch/arm64/boot/dts/renesas/r8a77980.dtsi | 12 ++++++------
 2 files changed, 10 insertions(+), 10 deletions(-)

diff --git a/arch/arm64/boot/dts/renesas/r8a77970.dtsi b/arch/arm64/boot/dts/renesas/r8a77970.dtsi
index bddf6d4..53d92dc 100644
--- a/arch/arm64/boot/dts/renesas/r8a77970.dtsi
+++ b/arch/arm64/boot/dts/renesas/r8a77970.dtsi
@@ -977,7 +977,7 @@
 		imrlx4_ch0: imr_00@fe860000 {
 			compatible = "generic-uio",
 				     "renesas,imr-lx4";
-			reg = <0 0xfe860000 0 0x10000>;
+			reg = <0 0xfe860000 0 0x2000>;
 			interrupts = <GIC_SPI 192 IRQ_TYPE_LEVEL_HIGH>;
 			clocks = <&cpg CPG_MOD 823>;
 			power-domains = <&sysc R8A77970_PD_ALWAYS_ON>;
@@ -988,7 +988,7 @@
 		imrlx4_ch1: imr_01@fe870000 {
 			compatible = "generic-uio",
 				     "renesas,imr-lx4";
-			reg = <0 0xfe870000 0 0x10000>;
+			reg = <0 0xfe870000 0 0x2000>;
 			interrupts = <GIC_SPI 193 IRQ_TYPE_LEVEL_HIGH>;
 			clocks = <&cpg CPG_MOD 822>;
 			power-domains = <&sysc R8A77970_PD_ALWAYS_ON>;
@@ -999,7 +999,7 @@
 		imrlx4_ch2: imr_02@fe880000 {
 			compatible = "generic-uio",
 				     "renesas,imr-lx4";
-			reg = <0 0xfe880000 0 0x10000>;
+			reg = <0 0xfe880000 0 0x2000>;
 			interrupts = <GIC_SPI 194 IRQ_TYPE_LEVEL_HIGH>;
 			clocks = <&cpg CPG_MOD 821>;
 			power-domains = <&sysc R8A77970_PD_ALWAYS_ON>;
@@ -1010,7 +1010,7 @@
 		imrlx4_ch3: imr_03@fe890000 {
 			compatible = "generic-uio",
 				     "renesas,imr-lx4";
-			reg = <0 0xfe890000 0 0x10000>;
+			reg = <0 0xfe890000 0 0x2000>;
 			interrupts = <GIC_SPI 195 IRQ_TYPE_LEVEL_HIGH>;
 			clocks = <&cpg CPG_MOD 820>;
 			power-domains = <&sysc R8A77970_PD_ALWAYS_ON>;
diff --git a/arch/arm64/boot/dts/renesas/r8a77980.dtsi b/arch/arm64/boot/dts/renesas/r8a77980.dtsi
index 61d50fc..8752763 100644
--- a/arch/arm64/boot/dts/renesas/r8a77980.dtsi
+++ b/arch/arm64/boot/dts/renesas/r8a77980.dtsi
@@ -1236,7 +1236,7 @@
 		imrlx4_ch0: imr_00@fe860000 {
 			compatible = "generic-uio",
 				     "renesas,imr-lx4";
-			reg = <0 0xfe860000 0 0x10000>;
+			reg = <0 0xfe860000 0 0x2000>;
 			interrupts = <GIC_SPI 192 IRQ_TYPE_LEVEL_HIGH>;
 			clocks = <&cpg CPG_MOD 823>;
 			power-domains = <&sysc R8A77980_PD_ALWAYS_ON>;
@@ -1247,7 +1247,7 @@
 		imrlx4_ch1: imr_01@fe870000 {
 			compatible = "generic-uio",
 				     "renesas,imr-lx4";
-			reg = <0 0xfe870000 0 0x10000>;
+			reg = <0 0xfe870000 0 0x2000>;
 			interrupts = <GIC_SPI 193 IRQ_TYPE_LEVEL_HIGH>;
 			clocks = <&cpg CPG_MOD 822>;
 			power-domains = <&sysc R8A77980_PD_ALWAYS_ON>;
@@ -1258,7 +1258,7 @@
 		imrlx4_ch2: imr_02@fe880000 {
 			compatible = "generic-uio",
 				     "renesas,imr-lx4";
-			reg = <0 0xfe880000 0 0x10000>;
+			reg = <0 0xfe880000 0 0x2000>;
 			interrupts = <GIC_SPI 194 IRQ_TYPE_LEVEL_HIGH>;
 			clocks = <&cpg CPG_MOD 821>;
 			power-domains = <&sysc R8A77980_PD_ALWAYS_ON>;
@@ -1269,7 +1269,7 @@
 		imrlx4_ch3: imr_03@fe890000 {
 			compatible = "generic-uio",
 				     "renesas,imr-lx4";
-			reg = <0 0xfe890000 0 0x10000>;
+			reg = <0 0xfe890000 0 0x2000>;
 			interrupts = <GIC_SPI 195 IRQ_TYPE_LEVEL_HIGH>;
 			clocks = <&cpg CPG_MOD 820>;
 			power-domains = <&sysc R8A77980_PD_ALWAYS_ON>;
@@ -1280,7 +1280,7 @@
 		imrlx4_ch4: imr_04@fe8a0000 {
 			compatible = "generic-uio",
 				     "renesas,imr-lx4";
-			reg = <0 0xfe8a0000 0 0x10000>;
+			reg = <0 0xfe8a0000 0 0x2000>;
 			interrupts = <GIC_SPI 254 IRQ_TYPE_LEVEL_HIGH>;
 			clocks = <&cpg CPG_MOD 707>;
 			power-domains = <&sysc R8A77980_PD_ALWAYS_ON>;
@@ -1291,7 +1291,7 @@
 		imrlx4_ch5: imr_05@fe8b0000 {
 			compatible = "generic-uio",
 				     "renesas,imr-lx4";
-			reg = <0 0xfe8b0000 0 0x10000>;
+			reg = <0 0xfe8b0000 0 0x2000>;
 			interrupts = <GIC_SPI 255 IRQ_TYPE_LEVEL_HIGH>;
 			clocks = <&cpg CPG_MOD 706>;
 			power-domains = <&sysc R8A77980_PD_ALWAYS_ON>;
-- 
2.7.4

