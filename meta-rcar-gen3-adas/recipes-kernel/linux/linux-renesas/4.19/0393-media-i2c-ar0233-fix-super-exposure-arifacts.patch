From 942f19802bb90a7c601ef9d66a8d3da34e338286 Mon Sep 17 00:00:00 2001
From: Vladimir Barinov <vladimir.barinov@cogentembedded.com>
Date: Tue, 2 Jul 2019 20:58:28 +0300
Subject: [PATCH] media: i2c: ar0233: fix super exposure arifacts

This fixes artifacts in SE mode with maximum exposure

Signed-off-by: Vladimir Barinov <vladimir.barinov@cogentembedded.com>
---
 drivers/media/i2c/soc_camera/ar0233_rev2.h | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/drivers/media/i2c/soc_camera/ar0233_rev2.h b/drivers/media/i2c/soc_camera/ar0233_rev2.h
index 66c79ca..3dfbd64 100644
--- a/drivers/media/i2c/soc_camera/ar0233_rev2.h
+++ b/drivers/media/i2c/soc_camera/ar0233_rev2.h
@@ -2296,8 +2296,13 @@ static const struct ar0233_reg ar0233_rev2_SEPLUS_12bit[] = {
 {0x3044, 0x0400}, //Dark_control
 
 // FPS = 102MHz / reg0x300A / reg0x300C
+#if 0
 {0x300A, AR0233_SENSOR_HEIGHT + 100}, // Frame_length_Lines
 {0x300C, AR0233_SENSOR_WIDTH + 400}, // Line_length_pck
+#else
+{0x300A, 1700}, // Frame_length_Lines - minimum 1698
+{0x300C, 2000}, // Line_length_pck - minimum 1880
+#endif
 {0x3012, 0x0299}, // COARSE_INTEGRATION_TIME_
 {0x3212, 0x0006}, // COARSE_INTEGRATION_TIME2
 {0x3112, 0x71E7},
-- 
2.7.4

