From 695c7240f07b0e8d93ee09999409a01040a6b46e Mon Sep 17 00:00:00 2001
From: Valentine Barshak <valentine.barshak@cogentembedded.com>
Date: Fri, 4 Dec 2020 21:26:22 +0300
Subject: [PATCH] arm64: dts: r8a779[78]0: Add WWDT generic UIO nodes

This adds preliminary WWDT generic UIO device nodes
to the R-Car r8a779[78]0 device trees.

Signed-off-by: Valentine Barshak <valentine.barshak@cogentembedded.com>
---
 arch/arm64/boot/dts/renesas/r8a77970.dtsi | 14 +++++++++++++
 arch/arm64/boot/dts/renesas/r8a77980.dtsi | 35 +++++++++++++++++++++++++++++++
 2 files changed, 49 insertions(+)

diff --git a/arch/arm64/boot/dts/renesas/r8a77970.dtsi b/arch/arm64/boot/dts/renesas/r8a77970.dtsi
index 4cdfe01..095a44bc 100644
--- a/arch/arm64/boot/dts/renesas/r8a77970.dtsi
+++ b/arch/arm64/boot/dts/renesas/r8a77970.dtsi
@@ -1681,6 +1681,20 @@
 			interrupts = <GIC_SPI 15 IRQ_TYPE_LEVEL_HIGH>;
 		};
 
+		wwdt_00 {
+			compatible = "generic-uio";
+			reg = <0 0xffc90000 0 0x1000>;
+			power-domains = <&sysc R8A77970_PD_ALWAYS_ON>;
+			resets = <&cpg 325>;
+		};
+
+		wwdt_01 {
+			compatible = "generic-uio";
+			reg = <0 0xffca0000 0 0x1000>;
+			power-domains = <&sysc R8A77970_PD_ALWAYS_ON>;
+			resets = <&cpg 324>;
+		};
+
 		fba_ims_00 {
 			compatible = "generic-uio";
 			reg = <0 0xfff80000 0 0x1000>;
diff --git a/arch/arm64/boot/dts/renesas/r8a77980.dtsi b/arch/arm64/boot/dts/renesas/r8a77980.dtsi
index 9cf5279..bfb8c5c 100644
--- a/arch/arm64/boot/dts/renesas/r8a77980.dtsi
+++ b/arch/arm64/boot/dts/renesas/r8a77980.dtsi
@@ -2383,6 +2383,41 @@
 			interrupts = <GIC_SPI 15 IRQ_TYPE_LEVEL_HIGH>;
 		};
 
+		wwdt_00 {
+			compatible = "generic-uio";
+			reg = <0 0xffc90000 0 0x1000>;
+			power-domains = <&sysc R8A77980_PD_ALWAYS_ON>;
+			resets = <&cpg 325>;
+		};
+
+		wwdt_01 {
+			compatible = "generic-uio";
+			reg = <0 0xffca0000 0 0x1000>;
+			power-domains = <&sysc R8A77980_PD_ALWAYS_ON>;
+			resets = <&cpg 324>;
+		};
+
+		wwdt_02 {
+			compatible = "generic-uio";
+			reg = <0 0xffcb0000 0 0x1000>;
+			power-domains = <&sysc R8A77980_PD_ALWAYS_ON>;
+			resets = <&cpg 321>;
+		};
+
+		wwdt_03 {
+			compatible = "generic-uio";
+			reg = <0 0xffcc0000 0 0x1000>;
+			power-domains = <&sysc R8A77980_PD_ALWAYS_ON>;
+			resets = <&cpg 309>;
+		};
+
+		wwdt_04 {
+			compatible = "generic-uio";
+			reg = <0 0xffcf0000 0 0x1000>;
+			power-domains = <&sysc R8A77980_PD_ALWAYS_ON>;
+			resets = <&cpg 403>;
+		};
+
 		fba_imr_00 {
 			compatible = "generic-uio";
 			reg = <0 0xfff80000 0 0x1000>;
-- 
2.7.4

