From 17eaba063fed982f7c6e24eac6fa424221f1bb28 Mon Sep 17 00:00:00 2001
From: Andrey Dolnikov <andrey.dolnikov@cogentembedded.com>
Date: Thu, 22 Oct 2020 23:10:53 +0300
Subject: [PATCH 05/11] arm64: dts: renesas: extend 'ipmmu-id' with micro-TLB
 index

... but now stub it with zero.
---
 arch/arm64/boot/dts/renesas/r8a77970-es1.dtsi |  18 ++--
 arch/arm64/boot/dts/renesas/r8a77970.dtsi     |  52 ++++++------
 arch/arm64/boot/dts/renesas/r8a77980-es2.dtsi |   2 +-
 arch/arm64/boot/dts/renesas/r8a77980.dtsi     | 118 +++++++++++++-------------
 4 files changed, 95 insertions(+), 95 deletions(-)

diff --git a/arch/arm64/boot/dts/renesas/r8a77970-es1.dtsi b/arch/arm64/boot/dts/renesas/r8a77970-es1.dtsi
index 083770f..e66a09c 100644
--- a/arch/arm64/boot/dts/renesas/r8a77970-es1.dtsi
+++ b/arch/arm64/boot/dts/renesas/r8a77970-es1.dtsi
@@ -29,7 +29,7 @@
 			interrupts = <0>;
 			clocks = <&cpg CPG_MOD 827>;
 			power-domains = <&sysc R8A77970_PD_A2IR0>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		imp_imp_01 {
@@ -39,7 +39,7 @@
 			interrupts = <1>;
 			clocks = <&cpg CPG_MOD 826>;
 			power-domains = <&sysc R8A77970_PD_A2IR1>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		imp_imp_02 {
@@ -49,7 +49,7 @@
 			interrupts = <2>;
 			clocks = <&cpg CPG_MOD 825>;
 			power-domains = <&sysc R8A77970_PD_A2DP>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		imp_imp_03 {
@@ -59,7 +59,7 @@
 			interrupts = <3>;
 			clocks = <&cpg CPG_MOD 824>;
 			power-domains = <&sysc R8A77970_PD_A2CN>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		imp_ocv_00 {
@@ -69,7 +69,7 @@
 			interrupts = <4>;
 			clocks = <&cpg CPG_MOD 829>;
 			power-domains = <&sysc R8A77970_PD_A2SC0>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		imp_ocv_01 {
@@ -79,7 +79,7 @@
 			interrupts = <5>;
 			clocks = <&cpg CPG_MOD 828>;
 			power-domains = <&sysc R8A77970_PD_A2SC1>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		imp_dma_00 {
@@ -89,7 +89,7 @@
 			interrupts = <16>;
 			clocks = <&cpg CPG_MOD 830>;
 			power-domains = <&sysc R8A77970_PD_A3IR>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		imp_dma_01 {
@@ -100,7 +100,7 @@
 			interrupts = <17>;
 			clocks = <&cpg CPG_MOD 830>;
 			power-domains = <&sysc R8A77970_PD_A3IR>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		imp_psc_00 {
@@ -110,7 +110,7 @@
 			interrupts = <12>;
 			clocks = <&cpg CPG_MOD 830>;
 			power-domains = <&sysc R8A77970_PD_A3IR>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		/delete-node/imp_cnn_00;
diff --git a/arch/arm64/boot/dts/renesas/r8a77970.dtsi b/arch/arm64/boot/dts/renesas/r8a77970.dtsi
index 56d3f3c..cc07afa 100644
--- a/arch/arm64/boot/dts/renesas/r8a77970.dtsi
+++ b/arch/arm64/boot/dts/renesas/r8a77970.dtsi
@@ -856,7 +856,7 @@
 			resets = <&cpg 811>;
 			renesas,id = <0>;
 			status = "enabled";
-			ipmmu-id = <RCAR_IPMMU_VI0>;
+			ipmmu-id = <RCAR_IPMMU_VI0 0>;
 
 			ports {
 				#address-cells = <1>;
@@ -885,7 +885,7 @@
 			resets = <&cpg 810>;
 			renesas,id = <1>;
 			status = "enabled";
-			ipmmu-id = <RCAR_IPMMU_VI0>;
+			ipmmu-id = <RCAR_IPMMU_VI0 0>;
 
 			ports {
 				#address-cells = <1>;
@@ -914,7 +914,7 @@
 			resets = <&cpg 809>;
 			renesas,id = <2>;
 			status = "enabled";
-			ipmmu-id = <RCAR_IPMMU_VI0>;
+			ipmmu-id = <RCAR_IPMMU_VI0 0>;
 
 			ports {
 				#address-cells = <1>;
@@ -943,7 +943,7 @@
 			resets = <&cpg 808>;
 			renesas,id = <3>;
 			status = "enabled";
-			ipmmu-id = <RCAR_IPMMU_VI0>;
+			ipmmu-id = <RCAR_IPMMU_VI0 0>;
 
 			ports {
 				#address-cells = <1>;
@@ -978,7 +978,7 @@
 			reg = <0 0xff900000 0 0x20000>;
 			clocks = <&cpg CPG_MOD 827>;
 			power-domains = <&sysc R8A77970_PD_A2IR0>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		imp_imp_01 {
@@ -986,7 +986,7 @@
 			reg = <0 0xff920000 0 0x20000>;
 			clocks = <&cpg CPG_MOD 827>;
 			power-domains = <&sysc R8A77970_PD_A2IR0>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		imp_imp_02 {
@@ -994,7 +994,7 @@
 			reg = <0 0xff940000 0 0x20000>;
 			clocks = <&cpg CPG_MOD 826>;
 			power-domains = <&sysc R8A77970_PD_A2IR1>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		imp_imp_03 {
@@ -1002,7 +1002,7 @@
 			reg = <0 0xff960000 0 0x20000>;
 			clocks = <&cpg CPG_MOD 826>;
 			power-domains = <&sysc R8A77970_PD_A2IR1>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		imp_ocv_00 {
@@ -1010,7 +1010,7 @@
 			reg = <0 0xff980000 0 0x10000>;
 			clocks = <&cpg CPG_MOD 829>;
 			power-domains = <&sysc R8A77970_PD_A2SC0>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		imp_ocv_01 {
@@ -1018,7 +1018,7 @@
 			reg = <0 0xff990000 0 0x10000>;
 			clocks = <&cpg CPG_MOD 828>;
 			power-domains = <&sysc R8A77970_PD_A2SC1>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		imp_dma_00 {
@@ -1026,7 +1026,7 @@
 			reg = <0 0xffa10000 0 0x1000>;
 			clocks = <&cpg CPG_MOD 825>;
 			power-domains = <&sysc R8A77970_PD_A2DP>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		imp_psc_00 {
@@ -1034,7 +1034,7 @@
 			reg = <0 0xffa20000 0 0x4000>;
 			clocks = <&cpg CPG_MOD 825>;
 			power-domains = <&sysc R8A77970_PD_A2DP>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		imp_cnn_00 {
@@ -1042,7 +1042,7 @@
 			reg = <0 0xff9e0000 0 0x10000>;
 			clocks = <&cpg CPG_MOD 824>;
 			power-domains = <&sysc R8A77970_PD_A2CN>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		imp_mem_00 {
@@ -1065,7 +1065,7 @@
 			power-domains = <&sysc R8A77970_PD_ALWAYS_ON>;
 			resets = <&cpg 823>;
 			alloc-dev = <&imr_v4l2_alloc>;
-			ipmmu-id = <RCAR_IPMMU_VI0>;
+			ipmmu-id = <RCAR_IPMMU_VI0 0>;
 		};
 
 		imrlx4_ch1: imr_ims_01@fe870000 {
@@ -1077,7 +1077,7 @@
 			power-domains = <&sysc R8A77970_PD_ALWAYS_ON>;
 			resets = <&cpg 822>;
 			alloc-dev = <&imr_v4l2_alloc>;
-			ipmmu-id = <RCAR_IPMMU_VI0>;
+			ipmmu-id = <RCAR_IPMMU_VI0 0>;
 		};
 
 		imrlx4_ch2: imr_ims_02@fe880000 {
@@ -1089,7 +1089,7 @@
 			power-domains = <&sysc R8A77970_PD_ALWAYS_ON>;
 			resets = <&cpg 821>;
 			alloc-dev = <&imr_v4l2_alloc>;
-			ipmmu-id = <RCAR_IPMMU_VI0>;
+			ipmmu-id = <RCAR_IPMMU_VI0 0>;
 		};
 
 		imrlx4_ch3: imr_ims_03@fe890000 {
@@ -1101,7 +1101,7 @@
 			power-domains = <&sysc R8A77970_PD_ALWAYS_ON>;
 			resets = <&cpg 820>;
 			alloc-dev = <&imr_v4l2_alloc>;
-			ipmmu-id = <RCAR_IPMMU_VI0>;
+			ipmmu-id = <RCAR_IPMMU_VI0 0>;
 		};
 
 		isp0: isp@fec00000 {
@@ -1120,7 +1120,7 @@
 			interrupts = <GIC_SPI 25 IRQ_TYPE_LEVEL_HIGH>;
 			clocks = <&cpg CPG_MOD 817>;
 			power-domains = <&sysc R8A77970_PD_ALWAYS_ON>;
-			ipmmu-id = <RCAR_IPMMU_VI0>;
+			ipmmu-id = <RCAR_IPMMU_VI0 0>;
 		};
 
 		cisp0: cisp_00 {
@@ -1129,7 +1129,7 @@
 			interrupts = <GIC_SPI 26 IRQ_TYPE_LEVEL_HIGH>;
 			clocks = <&cpg CPG_MOD 817>;
 			power-domains = <&sysc R8A77970_PD_ALWAYS_ON>;
-			ipmmu-id = <RCAR_IPMMU_VI0>;
+			ipmmu-id = <RCAR_IPMMU_VI0 0>;
 		};
 
 		sadc0: adc@ffce0000 {
@@ -1245,14 +1245,14 @@
 			compatible = "generic-uio";
 			reg = <0 0xe7740000 0 0x1000>;
 			power-domains = <&sysc R8A77970_PD_ALWAYS_ON>;
-			ipmmu-id = <RCAR_IPMMU_DS1>;
+			ipmmu-id = <RCAR_IPMMU_DS1 0>;
 		};
 
 		ipmmu_ir {
 			compatible = "generic-uio";
 			reg = <0 0xff8b0000 0 0x1000>;
 			power-domains = <&sysc R8A77970_PD_A3IR>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		ipmmu_mm {
@@ -1260,7 +1260,7 @@
 			reg = <0 0xe67b0000 0 0x1000>;
 			interrupts = <GIC_SPI 196 IRQ_TYPE_LEVEL_HIGH>;
 			power-domains = <&sysc R8A77970_PD_ALWAYS_ON>;
-			ipmmu-id = <RCAR_IPMMU_MM>;
+			ipmmu-id = <RCAR_IPMMU_MM 0>;
 		};
 
 		irq_ipmmu_mm_01 {
@@ -1268,21 +1268,21 @@
 			reg = <0 0xe67b0000 0 0x1000>;
 			interrupts = <GIC_SPI 197 IRQ_TYPE_LEVEL_HIGH>;
 			power-domains = <&sysc R8A77970_PD_ALWAYS_ON>;
-			ipmmu-id = <RCAR_IPMMU_MM>;
+			ipmmu-id = <RCAR_IPMMU_MM 0>;
 		};
 
 		ipmmu_rt {
 			compatible = "generic-uio";
 			reg = <0 0xffc80000 0 0x1000>;
 			power-domains = <&sysc R8A77970_PD_ALWAYS_ON>;
-			ipmmu-id = <RCAR_IPMMU_RT0>;
+			ipmmu-id = <RCAR_IPMMU_RT0 0>;
 		};
 
 		ipmmu_vi0 {
 			compatible = "generic-uio";
 			reg = <0 0xfebd0000 0 0x1000>;
 			power-domains = <&sysc R8A77970_PD_ALWAYS_ON>;
-			ipmmu-id = <RCAR_IPMMU_VI0>;
+			ipmmu-id = <RCAR_IPMMU_VI0 0>;
 		};
 
 		mmc0: mmc@ee140000 {
@@ -1608,7 +1608,7 @@
 			clocks = <&cpg CPG_MOD 127>;
 			power-domains = <&sysc R8A77970_PD_ALWAYS_ON>;
 			interrupts = <GIC_SPI 300 IRQ_TYPE_LEVEL_HIGH>;
-			ipmmu-id = <RCAR_IPMMU_VI0>;
+			ipmmu-id = <RCAR_IPMMU_VI0 0>;
 		};
 
 		irq_ivcp1e_00_01 {
diff --git a/arch/arm64/boot/dts/renesas/r8a77980-es2.dtsi b/arch/arm64/boot/dts/renesas/r8a77980-es2.dtsi
index de63668..bdbcc41 100644
--- a/arch/arm64/boot/dts/renesas/r8a77980-es2.dtsi
+++ b/arch/arm64/boot/dts/renesas/r8a77980-es2.dtsi
@@ -22,7 +22,7 @@
 			reg = <0 0xffa18000 0 0x1000>;
 			clocks = <&cpg CPG_MOD 524>;
 			power-domains = <&sysc R8A77980_PD_A2DP1>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		/* TBD: can fd channel 3 */
diff --git a/arch/arm64/boot/dts/renesas/r8a77980.dtsi b/arch/arm64/boot/dts/renesas/r8a77980.dtsi
index f69759a..f099cff 100644
--- a/arch/arm64/boot/dts/renesas/r8a77980.dtsi
+++ b/arch/arm64/boot/dts/renesas/r8a77980.dtsi
@@ -902,7 +902,7 @@
 			resets = <&cpg 811>;
 			renesas,id = <0>;
 			status = "enabled";
-			ipmmu-id = <RCAR_IPMMU_VI0>;
+			ipmmu-id = <RCAR_IPMMU_VI0 0>;
 
 			ports {
 				#address-cells = <1>;
@@ -931,7 +931,7 @@
 			status = "enabled";
 			renesas,id = <1>;
 			resets = <&cpg 810>;
-			ipmmu-id = <RCAR_IPMMU_VI0>;
+			ipmmu-id = <RCAR_IPMMU_VI0 0>;
 
 			ports {
 				#address-cells = <1>;
@@ -960,7 +960,7 @@
 			resets = <&cpg 809>;
 			renesas,id = <2>;
 			status = "enabled";
-			ipmmu-id = <RCAR_IPMMU_VI0>;
+			ipmmu-id = <RCAR_IPMMU_VI0 0>;
 
 			ports {
 				#address-cells = <1>;
@@ -989,7 +989,7 @@
 			resets = <&cpg 808>;
 			renesas,id = <3>;
 			status = "enabled";
-			ipmmu-id = <RCAR_IPMMU_VI0>;
+			ipmmu-id = <RCAR_IPMMU_VI0 0>;
 
 			ports {
 				#address-cells = <1>;
@@ -1018,7 +1018,7 @@
 			resets = <&cpg 807>;
 			renesas,id = <4>;
 			status = "enabled";
-			ipmmu-id = <RCAR_IPMMU_VI0>;
+			ipmmu-id = <RCAR_IPMMU_VI0 0>;
 
 			ports {
 				#address-cells = <1>;
@@ -1047,7 +1047,7 @@
 			resets = <&cpg 806>;
 			renesas,id = <5>;
 			status = "enabled";
-			ipmmu-id = <RCAR_IPMMU_VI0>;
+			ipmmu-id = <RCAR_IPMMU_VI0 0>;
 
 			ports {
 				#address-cells = <1>;
@@ -1076,7 +1076,7 @@
 			resets = <&cpg 805>;
 			renesas,id = <6>;
 			status = "enabled";
-			ipmmu-id = <RCAR_IPMMU_VI0>;
+			ipmmu-id = <RCAR_IPMMU_VI0 0>;
 
 			ports {
 				#address-cells = <1>;
@@ -1105,7 +1105,7 @@
 			resets = <&cpg 804>;
 			renesas,id = <7>;
 			status = "enabled";
-			ipmmu-id = <RCAR_IPMMU_VI0>;
+			ipmmu-id = <RCAR_IPMMU_VI0 0>;
 
 			ports {
 				#address-cells = <1>;
@@ -1134,7 +1134,7 @@
 			resets = <&cpg 628>;
 			renesas,id = <8>;
 			status = "disabled";
-			ipmmu-id = <RCAR_IPMMU_VI0>;
+			ipmmu-id = <RCAR_IPMMU_VI0 0>;
 		};
 
 		vin9: vin_09@e6ef9000 {
@@ -1146,7 +1146,7 @@
 			resets = <&cpg 627>;
 			renesas,id = <9>;
 			status = "disabled";
-			ipmmu-id = <RCAR_IPMMU_VI0>;
+			ipmmu-id = <RCAR_IPMMU_VI0 0>;
 		};
 
 		vin10: vin_10@e6efa000 {
@@ -1158,7 +1158,7 @@
 			resets = <&cpg 625>;
 			renesas,id = <10>;
 			status = "disabled";
-			ipmmu-id = <RCAR_IPMMU_VI0>;
+			ipmmu-id = <RCAR_IPMMU_VI0 0>;
 		};
 
 		vin11: vin_11@e6efb000 {
@@ -1170,7 +1170,7 @@
 			resets = <&cpg 618>;
 			renesas,id = <11>;
 			status = "disabled";
-			ipmmu-id = <RCAR_IPMMU_VI0>;
+			ipmmu-id = <RCAR_IPMMU_VI0 0>;
 		};
 
 		vin12: vin_12@e6efc000 {
@@ -1182,7 +1182,7 @@
 			resets = <&cpg 612>;
 			renesas,id = <12>;
 			status = "disabled";
-			ipmmu-id = <RCAR_IPMMU_VI0>;
+			ipmmu-id = <RCAR_IPMMU_VI0 0>;
 		};
 
 		vin13: vin_13@e6efd000 {
@@ -1194,7 +1194,7 @@
 			resets = <&cpg 608>;
 			renesas,id = <13>;
 			status = "disabled";
-			ipmmu-id = <RCAR_IPMMU_VI0>;
+			ipmmu-id = <RCAR_IPMMU_VI0 0>;
 		};
 
 		vin14: vin_14@e6efe000 {
@@ -1206,7 +1206,7 @@
 			resets = <&cpg 605>;
 			renesas,id = <14>;
 			status = "disabled";
-			ipmmu-id = <RCAR_IPMMU_VI0>;
+			ipmmu-id = <RCAR_IPMMU_VI0 0>;
 		};
 
 		vin15: vin_15@e6eff000 {
@@ -1218,7 +1218,7 @@
 			resets = <&cpg 604>;
 			renesas,id = <15>;
 			status = "disabled";
-			ipmmu-id = <RCAR_IPMMU_VI0>;
+			ipmmu-id = <RCAR_IPMMU_VI0 0>;
 		};
 
 		imp_distributer: imp_ctrl_00 {
@@ -1268,7 +1268,7 @@
 			reg = <0 0xff900000 0 0x20000>;
 			clocks = <&cpg CPG_MOD 827>;
 			power-domains = <&sysc R8A77980_PD_A2IR0>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		imp_imp_01 {
@@ -1276,7 +1276,7 @@
 			reg = <0 0xff920000 0 0x20000>;
 			clocks = <&cpg CPG_MOD 826>;
 			power-domains = <&sysc R8A77980_PD_A2IR1>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		imp_imp_02 {
@@ -1284,7 +1284,7 @@
 			reg = <0 0xff940000 0 0x20000>;
 			clocks = <&cpg CPG_MOD 825>;
 			power-domains = <&sysc R8A77980_PD_A2IR2>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		imp_imp_03 {
@@ -1292,7 +1292,7 @@
 			reg = <0 0xff960000 0 0x20000>;
 			clocks = <&cpg CPG_MOD 824>;
 			power-domains = <&sysc R8A77980_PD_A2IR3>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		imp_imp_04 {
@@ -1300,7 +1300,7 @@
 			reg = <0 0xffa80000 0 0x20000>;
 			clocks = <&cpg CPG_MOD 521>;
 			power-domains = <&sysc R8A77980_PD_A2IR4>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		imp_slim_00 {
@@ -1308,7 +1308,7 @@
 			reg = <0 0xff9c0000 0 0x10000>;
 			clocks = <&cpg CPG_MOD 500>;
 			power-domains = <&sysc R8A77980_PD_A2IR5>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		imp_ocv_00 {
@@ -1316,7 +1316,7 @@
 			reg = <0 0xff980000 0 0x10000>;
 			clocks = <&cpg CPG_MOD 829>;
 			power-domains = <&sysc R8A77980_PD_A2SC0>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		imp_ocv_01 {
@@ -1324,7 +1324,7 @@
 			reg = <0 0xff990000 0 0x10000>;
 			clocks = <&cpg CPG_MOD 828>;
 			power-domains = <&sysc R8A77980_PD_A2SC1>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		imp_ocv_02 {
@@ -1332,7 +1332,7 @@
 			reg = <0 0xff9a0000 0 0x10000>;
 			clocks = <&cpg CPG_MOD 531>;
 			power-domains = <&sysc R8A77980_PD_A2SC2>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		imp_ocv_03 {
@@ -1340,7 +1340,7 @@
 			reg = <0 0xff9b0000 0 0x10000>;
 			clocks = <&cpg CPG_MOD 529>;
 			power-domains = <&sysc R8A77980_PD_A2SC3>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		imp_ocv_04 {
@@ -1348,7 +1348,7 @@
 			reg = <0 0xffa40000 0 0x10000>;
 			clocks = <&cpg CPG_MOD 528>;
 			power-domains = <&sysc R8A77980_PD_A2SC4>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		imp_dma_00 {
@@ -1356,7 +1356,7 @@
 			reg = <0 0xffa10000 0 0x1000>;
 			clocks = <&cpg CPG_MOD 527>;
 			power-domains = <&sysc R8A77980_PD_A2DP0>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		imp_dma_01 {
@@ -1364,7 +1364,7 @@
 			reg = <0 0xffa14000 0 0x1000>;
 			clocks = <&cpg CPG_MOD 526>;
 			power-domains = <&sysc R8A77980_PD_A2DP1>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		imp_psc_00 {
@@ -1372,7 +1372,7 @@
 			reg = <0 0xffa20000 0 0x4000>;
 			clocks = <&cpg CPG_MOD 525>;
 			power-domains = <&sysc R8A77980_PD_A2DP0>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		imp_psc_01 {
@@ -1380,7 +1380,7 @@
 			reg = <0 0xffa24000 0 0x4000>;
 			clocks = <&cpg CPG_MOD 524>;
 			power-domains = <&sysc R8A77980_PD_A2DP1>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		imp_cnn_00 {
@@ -1388,7 +1388,7 @@
 			reg = <0 0xff9e0000 0 0x10000>;
 			clocks = <&cpg CPG_MOD 831>;
 			power-domains = <&sysc R8A77980_PD_A2CN>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		imp_mem_00 {
@@ -1411,7 +1411,7 @@
 			power-domains = <&sysc R8A77980_PD_ALWAYS_ON>;
 			resets = <&cpg 823>;
 			alloc-dev = <&imr_v4l2_alloc>;
-			ipmmu-id = <RCAR_IPMMU_VC0>;
+			ipmmu-id = <RCAR_IPMMU_VC0 0>;
 		};
 
 		imrlx4_ch1: imr_ims_01@fe870000 {
@@ -1423,7 +1423,7 @@
 			power-domains = <&sysc R8A77980_PD_ALWAYS_ON>;
 			resets = <&cpg 822>;
 			alloc-dev = <&imr_v4l2_alloc>;
-			ipmmu-id = <RCAR_IPMMU_VC0>;
+			ipmmu-id = <RCAR_IPMMU_VC0 0>;
 		};
 
 		imrlx4_ch2: imr_ims_02@fe880000 {
@@ -1435,7 +1435,7 @@
 			power-domains = <&sysc R8A77980_PD_ALWAYS_ON>;
 			resets = <&cpg 821>;
 			alloc-dev = <&imr_v4l2_alloc>;
-			ipmmu-id = <RCAR_IPMMU_VC0>;
+			ipmmu-id = <RCAR_IPMMU_VC0 0>;
 		};
 
 		imrlx4_ch3: imr_ims_03@fe890000 {
@@ -1447,7 +1447,7 @@
 			power-domains = <&sysc R8A77980_PD_ALWAYS_ON>;
 			resets = <&cpg 820>;
 			alloc-dev = <&imr_v4l2_alloc>;
-			ipmmu-id = <RCAR_IPMMU_VC0>;
+			ipmmu-id = <RCAR_IPMMU_VC0 0>;
 		};
 
 		imrlx4_ch4: imr_imr_00@fe8a0000 {
@@ -1459,7 +1459,7 @@
 			power-domains = <&sysc R8A77980_PD_ALWAYS_ON>;
 			rse;
 			alloc-dev = <&imr_v4l2_alloc>;
-			ipmmu-id = <RCAR_IPMMU_VC0>;
+			ipmmu-id = <RCAR_IPMMU_VC0 0>;
 		};
 
 		imrlx4_ch5: imr_imr_01@fe8b0000 {
@@ -1471,7 +1471,7 @@
 			power-domains = <&sysc R8A77980_PD_ALWAYS_ON>;
 			rse;
 			alloc-dev = <&imr_v4l2_alloc>;
-			ipmmu-id = <RCAR_IPMMU_VC0>;
+			ipmmu-id = <RCAR_IPMMU_VC0 0>;
 		};
 
 		stv_00 {
@@ -1480,7 +1480,7 @@
 			interrupts = <GIC_SPI 238 IRQ_TYPE_LEVEL_HIGH>;
 			clocks = <&cpg CPG_MOD 101>;
 			power-domains = <&sysc R8A77980_PD_A3VIP0>;
-			ipmmu-id = <RCAR_IPMMU_VIP0>;
+			ipmmu-id = <RCAR_IPMMU_VIP0 0>;
 		};
 
 		irq_stv_00_01 {
@@ -1497,7 +1497,7 @@
 			interrupts = <GIC_SPI 242 IRQ_TYPE_LEVEL_HIGH>;
 			clocks = <&cpg CPG_MOD 102>;
 			power-domains = <&sysc R8A77980_PD_A3VIP1>;
-			ipmmu-id = <RCAR_IPMMU_VIP0>;
+			ipmmu-id = <RCAR_IPMMU_VIP0 0>;
 		};
 
 		irq_dof_00_01 {
@@ -1514,7 +1514,7 @@
 			interrupts = <GIC_SPI 71 IRQ_TYPE_LEVEL_HIGH>;
 			clocks = <&cpg CPG_MOD 1004>;
 			power-domains = <&sysc R8A77980_PD_A3VIP2>;
-			ipmmu-id = <RCAR_IPMMU_VIP1>;
+			ipmmu-id = <RCAR_IPMMU_VIP1 0>;
 		};
 
 		irq_acf_00_01 {
@@ -1531,7 +1531,7 @@
 			interrupts = <GIC_SPI 98 IRQ_TYPE_LEVEL_HIGH>;
 			clocks = <&cpg CPG_MOD 1003>;
 			power-domains = <&sysc R8A77980_PD_A3VIP2>;
-			ipmmu-id = <RCAR_IPMMU_VIP1>;
+			ipmmu-id = <RCAR_IPMMU_VIP1 0>;
 		};
 
 		irq_acf_01_01 {
@@ -1548,7 +1548,7 @@
 			interrupts = <GIC_SPI 100 IRQ_TYPE_LEVEL_HIGH>;
 			clocks = <&cpg CPG_MOD 1002>;
 			power-domains = <&sysc R8A77980_PD_A3VIP2>;
-			ipmmu-id = <RCAR_IPMMU_VIP1>;
+			ipmmu-id = <RCAR_IPMMU_VIP1 0>;
 		};
 
 		irq_acf_02_01 {
@@ -1565,7 +1565,7 @@
 			interrupts = <GIC_SPI 102 IRQ_TYPE_LEVEL_HIGH>;
 			clocks = <&cpg CPG_MOD 1001>;
 			power-domains = <&sysc R8A77980_PD_A3VIP2>;
-			ipmmu-id = <RCAR_IPMMU_VIP1>;
+			ipmmu-id = <RCAR_IPMMU_VIP1 0>;
 		};
 
 		irq_acf_03_01 {
@@ -1582,7 +1582,7 @@
 			interrupts = <GIC_SPI 104 IRQ_TYPE_LEVEL_HIGH>;
 			clocks = <&cpg CPG_MOD 1000>;
 			power-domains = <&sysc R8A77980_PD_A3VIP2>;
-			ipmmu-id = <RCAR_IPMMU_VIP1>;
+			ipmmu-id = <RCAR_IPMMU_VIP1 0>;
 		};
 
 		irq_acf_04_01 {
@@ -1666,7 +1666,7 @@
 			clocks = <&cpg CPG_MOD 817>;
 			resets = <&cpg 817>;
 			power-domains = <&sysc R8A77980_PD_ALWAYS_ON>;
-			ipmmu-id = <RCAR_IPMMU_VI0>;
+			ipmmu-id = <RCAR_IPMMU_VI0 0>;
 		};
 
 		cisp0: cisp_00 {
@@ -1676,7 +1676,7 @@
 			clocks = <&cpg CPG_MOD 817>;
 			resets = <&cpg 817>;
 			power-domains = <&sysc R8A77980_PD_ALWAYS_ON>;
-			ipmmu-id = <RCAR_IPMMU_VI0>;
+			ipmmu-id = <RCAR_IPMMU_VI0 0>;
 		};
 
 		tisp1: tisp_01 {
@@ -1686,7 +1686,7 @@
 			clocks = <&cpg CPG_MOD 814>;
 			resets = <&cpg 814>;
 			power-domains = <&sysc R8A77980_PD_ALWAYS_ON>;
-			ipmmu-id = <RCAR_IPMMU_VI0>;
+			ipmmu-id = <RCAR_IPMMU_VI0 0>;
 		};
 
 		cisp1: cisp_01 {
@@ -1696,7 +1696,7 @@
 			clocks = <&cpg CPG_MOD 814>;
 			resets = <&cpg 814>;
 			power-domains = <&sysc R8A77980_PD_ALWAYS_ON>;
-			ipmmu-id = <RCAR_IPMMU_VI0>;
+			ipmmu-id = <RCAR_IPMMU_VI0 0>;
 		};
 
 		dmac1: dma-controller@e7300000 {
@@ -1864,14 +1864,14 @@
 			compatible = "generic-uio";
 			reg = <0 0xe7740000 0 0x1000>;
 			power-domains = <&sysc R8A77980_PD_ALWAYS_ON>;
-			ipmmu-id = <RCAR_IPMMU_DS1>;
+			ipmmu-id = <RCAR_IPMMU_DS1 0>;
 		};
 
 		ipmmu_ir {
 			compatible = "generic-uio";
 			reg = <0 0xff8b0000 0 0x1000>;
 			power-domains = <&sysc R8A77980_PD_A3IR>;
-			ipmmu-id = <RCAR_IPMMU_IR>;
+			ipmmu-id = <RCAR_IPMMU_IR 0>;
 		};
 
 		ipmmu_mm {
@@ -1879,7 +1879,7 @@
 			reg = <0 0xe67b0000 0 0x1000>;
 			interrupts = <GIC_SPI 196 IRQ_TYPE_LEVEL_HIGH>;
 			power-domains = <&sysc R8A77980_PD_ALWAYS_ON>;
-			ipmmu-id = <RCAR_IPMMU_MM>;
+			ipmmu-id = <RCAR_IPMMU_MM 0>;
 		};
 
 		irq_ipmmu_mm_01 {
@@ -1887,42 +1887,42 @@
 			reg = <0 0xe67b0000 0 0x1000>;
 			interrupts = <GIC_SPI 197 IRQ_TYPE_LEVEL_HIGH>;
 			power-domains = <&sysc R8A77980_PD_ALWAYS_ON>;
-			ipmmu-id = <RCAR_IPMMU_MM>;
+			ipmmu-id = <RCAR_IPMMU_MM 0>;
 		};
 
 		ipmmu_rt {
 			compatible = "generic-uio";
 			reg = <0 0xffc80000 0 0x1000>;
 			power-domains = <&sysc R8A77980_PD_ALWAYS_ON>;
-			ipmmu-id = <RCAR_IPMMU_RT0>;
+			ipmmu-id = <RCAR_IPMMU_RT0 0>;
 		};
 
 		ipmmu_vc0 {
 			compatible = "generic-uio";
 			reg = <0 0xfe6b0000 0 0x1000>;
 			power-domains = <&sysc R8A77980_PD_ALWAYS_ON>;
-			ipmmu-id = <RCAR_IPMMU_VC0>;
+			ipmmu-id = <RCAR_IPMMU_VC0 0>;
 		};
 
 		ipmmu_vi0 {
 			compatible = "generic-uio";
 			reg = <0 0xfebd0000 0 0x1000>;
 			power-domains = <&sysc R8A77980_PD_ALWAYS_ON>;
-			ipmmu-id = <RCAR_IPMMU_VI0>;
+			ipmmu-id = <RCAR_IPMMU_VI0 0>;
 		};
 
 		ipmmu_vip0 {
 			compatible = "generic-uio";
 			reg = <0 0xe7b00000 0 0x1000>;
 			power-domains = <&sysc R8A77980_PD_ALWAYS_ON>;
-			ipmmu-id = <RCAR_IPMMU_VIP0>;
+			ipmmu-id = <RCAR_IPMMU_VIP0 0>;
 		};
 
 		ipmmu_vip1 {
 			compatible = "generic-uio";
 			reg = <0 0xe7960000 0 0x1000>;
 			power-domains = <&sysc R8A77980_PD_ALWAYS_ON>;
-			ipmmu-id = <RCAR_IPMMU_VIP1>;
+			ipmmu-id = <RCAR_IPMMU_VIP1 0>;
 		};
 
 		mmc0: mmc@ee140000 {
@@ -2335,7 +2335,7 @@
 			clocks = <&cpg CPG_MOD 127>;
 			power-domains = <&sysc R8A77980_PD_ALWAYS_ON>;
 			interrupts = <GIC_SPI 300 IRQ_TYPE_LEVEL_HIGH>;
-			ipmmu-id = <RCAR_IPMMU_VI0>;
+			ipmmu-id = <RCAR_IPMMU_VI0 0>;
 		};
 
 		irq_ivcp1e_00_01 {
-- 
2.7.4

