From 129cd49a7a3c1771c9dc95af475ae973f5eac7b8 Mon Sep 17 00:00:00 2001
From: Andrey Dolnikov <andrey.dolnikov@cogentembedded.com>
Date: Fri, 21 Aug 2020 17:08:01 +0300
Subject: [PATCH 2/2] r8a77980: Remove unused/bad IMP and VIP devices

---
 arch/arm64/boot/dts/renesas/r8a77970.dtsi |  7 ----
 arch/arm64/boot/dts/renesas/r8a77980.dtsi | 62 -------------------------------
 2 files changed, 69 deletions(-)

diff --git a/arch/arm64/boot/dts/renesas/r8a77970.dtsi b/arch/arm64/boot/dts/renesas/r8a77970.dtsi
index d70b0e2..bddf6d4 100644
--- a/arch/arm64/boot/dts/renesas/r8a77970.dtsi
+++ b/arch/arm64/boot/dts/renesas/r8a77970.dtsi
@@ -949,13 +949,6 @@
 			power-domains = <&sysc R8A77970_PD_A2DP>;
 		};
 
-		imp_dma_01 {
-			compatible = "generic-uio";
-			reg = <0 0xffa11000 0 0x1000>;
-			clocks = <&cpg CPG_MOD 825>;
-			power-domains = <&sysc R8A77970_PD_A2DP>;
-		};
-
 		imp_psc_00 {
 			compatible = "generic-uio";
 			reg = <0 0xffa20000 0 0x4000>;
diff --git a/arch/arm64/boot/dts/renesas/r8a77980.dtsi b/arch/arm64/boot/dts/renesas/r8a77980.dtsi
index e73dfb4..61d50fc 100644
--- a/arch/arm64/boot/dts/renesas/r8a77980.dtsi
+++ b/arch/arm64/boot/dts/renesas/r8a77980.dtsi
@@ -1194,13 +1194,6 @@
 			power-domains = <&sysc R8A77980_PD_A2DP0>;
 		};
 
-		imp_dma_02 {
-			compatible = "generic-uio";
-			reg = <0 0xffa11000 0 0x1000>;
-			clocks = <&cpg CPG_MOD 527>;
-			power-domains = <&sysc R8A77980_PD_A2DP0>;
-		};
-
 		imp_dma_01 {
 			compatible = "generic-uio";
 			reg = <0 0xffa14000 0 0x1000>;
@@ -1208,13 +1201,6 @@
 			power-domains = <&sysc R8A77980_PD_A2DP1>;
 		};
 
-		imp_dma_03 {
-			compatible = "generic-uio";
-			reg = <0 0xffa15000 0 0x1000>;
-			clocks = <&cpg CPG_MOD 526>;
-			power-domains = <&sysc R8A77980_PD_A2DP1>;
-		};
-
 		imp_psc_00 {
 			compatible = "generic-uio";
 			reg = <0 0xffa20000 0 0x4000>;
@@ -1345,54 +1331,6 @@
 			power-domains = <&sysc R8A77980_PD_A3VIP1>;
 		};
 
-		vip_smd_ps_status {
-			compatible = "generic-uio";
-			reg = <0 0xe7a20000 0 0x10000>;
-			interrupts = <GIC_SPI 112 IRQ_TYPE_LEVEL_HIGH>;
-			clocks = <&cpg CPG_MOD 1102>;
-			power-domains = <&sysc R8A77980_PD_A3VIP1>;
-		};
-
-		vip_smd_ps_error {
-			compatible = "generic-uio";
-			reg = <0 0xe7a20000 0 0x10000>;
-			interrupts = <GIC_SPI 151 IRQ_TYPE_LEVEL_HIGH>;
-			clocks = <&cpg CPG_MOD 1102>;
-			power-domains = <&sysc R8A77980_PD_A3VIP1>;
-		};
-
-		vip_smd_est_status {
-			compatible = "generic-uio";
-			reg = <0 0xe7a30000 0 0x10000>;
-			interrupts = <GIC_SPI 160 IRQ_TYPE_LEVEL_HIGH>;
-			clocks = <&cpg CPG_MOD 1101>;
-			power-domains = <&sysc R8A77980_PD_A3VIP1>;
-		};
-
-		vip_smd_est_error {
-			compatible = "generic-uio";
-			reg = <0 0xe7a30000 0 0x10000>;
-			interrupts = <GIC_SPI 164 IRQ_TYPE_LEVEL_HIGH>;
-			clocks = <&cpg CPG_MOD 1101>;
-			power-domains = <&sysc R8A77980_PD_A3VIP1>;
-		};
-
-		vip_smd_post_status {
-			compatible = "generic-uio";
-			reg = <0 0xe7a40000 0 0x10000>;
-			interrupts = <GIC_SPI 173 IRQ_TYPE_LEVEL_HIGH>;
-			clocks = <&cpg CPG_MOD 1100>;
-			power-domains = <&sysc R8A77980_PD_A3VIP1>;
-		};
-
-		vip_smd_post_error {
-			compatible = "generic-uio";
-			reg = <0 0xe7a40000 0 0x10000>;
-			interrupts = <GIC_SPI 235 IRQ_TYPE_LEVEL_HIGH>;
-			clocks = <&cpg CPG_MOD 1100>;
-			power-domains = <&sysc R8A77980_PD_A3VIP1>;
-		};
-
 		acf_00 {
 			compatible = "generic-uio";
 			reg = <0 0xe7a50000 0 0x10000>;
-- 
2.7.4

